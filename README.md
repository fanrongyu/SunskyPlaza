# 阳光天地商圈平台

## 项目简介

本项目是一个高并发本地生活服务平台，支持用户登录、店铺搜索、优惠券秒杀、数据统计等核心功能，旨在为用户提供便捷、高效的本地生活服务体验。

## 项目架构

- **Spring Boot**
- **Redis**
- **MySQL**
- **MyBatis**
- **Nginx**

## 项目亮点

本项目在高并发场景下，针对本地生活服务平台的典型业务痛点，进行了多项架构创新和技术优化，具体亮点如下：

### 1. 高并发下的“一人一单”精准拦截
- 利用 Redisson 分布式锁，确保每个用户在同一活动中只能成功抢购一次，杜绝超卖和重复下单。
- 结合 Lua 脚本，将库存校验、用户锁占用判断、订单标志生成等操作原子化，极大提升并发安全性。
- 实测可抵御单活动峰值 3000+ 并发请求，保障系统稳定运行。

### 2. 秒杀业务的库存预扣与写服务降级
- 采用 Redis DECRBY + Lua 脚本实现库存预扣，极大提升库存扣减的性能和一致性。
- 在流量高峰时，写服务自动降级为“同步写缓存+异步写数据库”，通过消息队列异步持久化订单，避免数据库成为瓶颈。
- 该方案有效提升了系统的可用性和扩展性。

### 3. 策略模式+工厂方法模式驱动秒杀架构升级
- 抽象 `SeckillStrategy` 接口，支持多种类型的秒杀业务，提升代码复用率 75%。
- 工厂类动态加载策略，业务层与策略实现零耦合，极大降低系统异常率（80%+）。
- 架构灵活，便于后续扩展多样化促销活动。

### 4. 流量削峰与限流保护
- 前端接入验证码，有效防刷并延缓并发，提升系统抗压能力。
- 商详页与秒杀系统间引入消息队列，解耦流量高峰，削峰填谷。
- Nginx 网关层基于 IP 地址实施精细化限流，防止恶意攻击和流量突发，保护后端服务安全。

### 5. 多级缓存与读服务降级
- 引入 Elasticsearch 作为二级缓存，提升搜索与数据读取性能。
- 设计降级开关，支持读服务自动降级，保障核心功能高可用。
- 针对热点商品数据，采用 Tomcat 集群内 Caffeine 本地缓存，解决热点数据高并发访问问题。

---

